"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[636],{2636:function(e,t,a){a.r(t);var s=a(7313),n=a(7863),r=(a(3858),a(1682)),i=a(8197),l=a(9624),c=a(6370),d=a(9666),o=a(6573),u=a(6287),h=a(6135),x=a(6202),m=a(6417);t.default=(0,h.$j)((e=>({storeState:e})),{authLogin:x.eU})((e=>{let{storeState:t,authLogin:a}=e;const[h,x]=(0,s.useState)(""),[p,j]=(0,s.useState)(""),[f,g]=(0,s.useState)(""),[$,b]=(0,s.useState)(""),[y,Z]=(0,s.useState)(""),[v,P]=(0,s.useState)();(0,s.useEffect)((()=>{N()}),[]);const C=(e,t)=>{"username"==e?x(t.target.value):"cif"==e?j(t.target.value):"iva"==e?g(t.target.value):"email"==e&&b(t.target.value)},N=async()=>{const e=await o.Z.get(u.Z.API_URL+"api/users/invoicelist");let a=0,s=new Date;const n=(new Date).getMonth(),r=Math.floor(n/3)+1;for(let i=0;i<e.data.length;i++)e.data[i].UserId==t.customization.auth.data._id&&(new Date(s.getFullYear(),s.getMonth()-12,s.getDate()),new Date(e.data[i].Date)),e.data[i].UserId==t.customization.auth.data._id&&(new Date(s.getFullYear(),s.getMonth()-1,s.getDate()),new Date(e.data[i].Date)),e.data[i].UserId==t.customization.auth.data._id&&new Date(s.getFullYear(),3*(r-1)+1,s.getDate())<new Date(e.data[i].Date)&&a++;console.log("ss",a),x(t.customization.auth.data.fname),j(t.customization.auth.data.cif),P(t.customization.auth.data.consumption*a),g(t.customization.auth.data.iva),b(t.customization.auth.data.email),Z(t.customization.auth.data.agency_id.id)};return(0,m.jsxs)("section",{children:[(0,m.jsx)(n.L5,{className:"py-5",children:(0,m.jsx)(n.uZ,{className:"justify-content-center",children:(0,m.jsx)(n.TK,{lg:"8",children:(0,m.jsx)(n.Yl,{className:"mb-4",children:(0,m.jsxs)(n.H7,{children:[(0,m.jsxs)(n.uZ,{children:[(0,m.jsx)(n.TK,{sm:"5",children:(0,m.jsx)(n.Pp,{children:"Nombre"})}),(0,m.jsx)(n.TK,{sm:"7",children:(0,m.jsx)(n.Pp,{className:"text-muted",children:h})})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)(n.uZ,{children:[(0,m.jsx)(n.TK,{sm:"5",children:(0,m.jsx)(n.Pp,{children:"CIF/DNI"})}),(0,m.jsx)(n.TK,{sm:"7",children:(0,m.jsx)(n.Pp,{className:"text-muted",children:p})})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)(n.uZ,{children:[(0,m.jsx)(n.TK,{sm:"5",children:(0,m.jsx)(n.Pp,{children:"Cantidad IVa"})}),(0,m.jsx)(n.TK,{sm:"7",children:(0,m.jsx)(n.Pp,{className:"text-muted",children:f})})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)(n.uZ,{children:[(0,m.jsx)(n.TK,{sm:"5",children:(0,m.jsx)(n.Pp,{children:"Correo electr\xf3nico"})}),(0,m.jsx)(n.TK,{sm:"7",children:(0,m.jsx)(n.Pp,{className:"text-muted",children:$})})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)(n.uZ,{children:[(0,m.jsx)(n.TK,{sm:"5",children:(0,m.jsx)(n.Pp,{children:"N\xfamero de licencia"})}),(0,m.jsx)(n.TK,{sm:"7",children:(0,m.jsx)(n.Pp,{className:"text-muted",children:"3424-234-2342"})})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)(n.uZ,{children:[(0,m.jsx)(n.TK,{sm:"5",children:(0,m.jsx)(n.Pp,{children:"identificador de agencia"})}),(0,m.jsx)(n.TK,{sm:"7",children:(0,m.jsx)(n.Pp,{className:"text-muted",children:y})})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)(n.uZ,{children:[(0,m.jsx)(n.TK,{sm:"5",children:(0,m.jsx)(n.Pp,{children:"Upload Counter Trimestre"})}),(0,m.jsx)(n.TK,{sm:"7",children:(0,m.jsx)(n.Pp,{className:"text-muted",children:v+"\u20ac"})})]})]})})})})}),(0,m.jsxs)(i.Z,{justify:"space-evenly",style:{marginBottom:10},children:[(0,m.jsx)(l.Z,{span:8,align:"center",children:(0,m.jsx)(d.Z,{id:"standard-basic",fullWidth:!0,label:"Nombre",value:h,onChange:e=>C("username",e),variant:"standard"})}),(0,m.jsx)(l.Z,{span:8,align:"center",children:(0,m.jsx)(d.Z,{id:"standard-basic",fullWidth:!0,label:"CIF/DNI",value:p,onChange:e=>C("cif",e),variant:"standard"})})]}),(0,m.jsxs)(i.Z,{justify:"space-evenly",style:{marginBottom:10},children:[(0,m.jsx)(l.Z,{span:8,align:"center",children:(0,m.jsx)(d.Z,{id:"standard-basic",fullWidth:!0,label:"Nombre de contacto",value:f,onChange:e=>C("iva",e),variant:"standard"})}),(0,m.jsx)(l.Z,{span:8,align:"center",children:(0,m.jsx)(d.Z,{id:"standard-basic",fullWidth:!0,label:"Correo electr\xf3nico",value:$,onChange:e=>C("email",e),variant:"standard"})})]}),(0,m.jsx)(i.Z,{style:{justifyContent:"center"},children:(0,m.jsx)(c.ZP,{type:"primary",onClick:()=>{console.log("store",t.customization);let e={_id:t.customization.auth.data._id,name:h,cif:p,iva:f,mail:$};o.Z.post(u.Z.API_URL+"api/users/updateUser",e).then((e=>{console.log("res",e.data),"success"==e.data.status&&(a(e.data),r.Z.success({description:" Guardar \xe9xito!",placement:"bottomRight",duration:2}))}))},children:"Guardar"})})]})}))},9624:function(e,t,a){var s=a(6297);t.Z=s.Z},6297:function(e,t,a){var s=a(6123),n=a.n(s),r=a(7313),i=a(4714),l=a(6223),c=a(2358),d=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(a[s[n]]=e[s[n]])}return a};const o=["xs","sm","md","lg","xl","xxl"],u=r.forwardRef(((e,t)=>{const{getPrefixCls:a,direction:s}=r.useContext(i.E_),{gutter:u,wrap:h,supportFlexGap:x}=r.useContext(l.Z),{prefixCls:m,span:p,order:j,offset:f,push:g,pull:$,className:b,children:y,flex:Z,style:v}=e,P=d(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),C=a("col",m),[N,T]=(0,c.c)(C);let _={};o.forEach((t=>{let a={};const n=e[t];"number"===typeof n?a.span=n:"object"===typeof n&&(a=n||{}),delete P[t],_=Object.assign(Object.assign({},_),{[`${C}-${t}-${a.span}`]:void 0!==a.span,[`${C}-${t}-order-${a.order}`]:a.order||0===a.order,[`${C}-${t}-offset-${a.offset}`]:a.offset||0===a.offset,[`${C}-${t}-push-${a.push}`]:a.push||0===a.push,[`${C}-${t}-pull-${a.pull}`]:a.pull||0===a.pull,[`${C}-${t}-flex-${a.flex}`]:a.flex||"auto"===a.flex,[`${C}-rtl`]:"rtl"===s})}));const w=n()(C,{[`${C}-${p}`]:void 0!==p,[`${C}-order-${j}`]:j,[`${C}-offset-${f}`]:f,[`${C}-push-${g}`]:g,[`${C}-pull-${$}`]:$},b,_,T),D={};if(u&&u[0]>0){const e=u[0]/2;D.paddingLeft=e,D.paddingRight=e}if(u&&u[1]>0&&!x){const e=u[1]/2;D.paddingTop=e,D.paddingBottom=e}return Z&&(D.flex=function(e){return"number"===typeof e?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}(Z),!1!==h||D.minWidth||(D.minWidth=0)),N(r.createElement("div",Object.assign({},P,{style:Object.assign(Object.assign({},D),v),className:w,ref:t}),y))}));t.Z=u}}]);