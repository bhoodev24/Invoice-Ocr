"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[115],{14:function(e,t,a){a.r(t);var s=a(7313),n=a(7863),l=(a(3858),a(6135)),r=a(9666),i=a(6573),c=a(6287),o=a(6202),d=a(1682),u=a(8197),h=a(9624),x=a(6370),m=a(6417);t.default=(0,l.$j)((e=>({storeState:e})),{authLogin:o.eU})((e=>{let{storeState:t,authLogin:a}=e;(0,s.useEffect)((()=>{N()}),[]),console.log("storeState",t);const[l,o]=(0,s.useState)(t.customization.auth.name),[p,j]=(0,s.useState)(t.customization.auth.cif),[f,g]=(0,s.useState)(t.customization.auth.contactName),[b,$]=(0,s.useState)(t.customization.auth.mail),[y,Z]=(0,s.useState)(t.customization.auth.phone),[v,C]=(0,s.useState)(),N=async()=>{const e=await i.Z.get(c.Z.API_URL+"api/users/invoicelist");let a=0,s=new Date;const n=(new Date).getMonth(),l=Math.floor(n/3)+1;for(let r=0;r<e.data.length;r++)e.data[r].ClientId==t.customization.auth._id&&(new Date(s.getFullYear(),s.getMonth()-12,1),new Date(e.data[r].Date)),e.data[r].ClientId==t.customization.auth._id&&(new Date(s.getFullYear(),s.getMonth(),1),new Date(e.data[r].Date)),e.data[r].ClientId==t.customization.auth._id&&new Date(s.getFullYear(),3*(l-1)+1,1)<new Date(e.data[r].Date)&&a++;C((t.customization.auth.consumption*a).toFixed(2))},P=(e,t)=>{"name"==e?o(t.target.value):"cif"==e?j(t.target.value):"contactName"==e?g(t.target.value):"email"==e?$(t.target.value):"phone"==e&&Z(t.target.value)};return(0,m.jsxs)("section",{children:[(0,m.jsx)(n.L5,{className:"py-5",children:(0,m.jsx)(n.uZ,{className:"justify-content-center",children:(0,m.jsx)(n.TK,{lg:"8",children:(0,m.jsx)(n.Yl,{className:"mb-4",children:(0,m.jsxs)(n.H7,{children:[(0,m.jsxs)(n.uZ,{children:[(0,m.jsx)(n.TK,{sm:"5",children:(0,m.jsx)(n.Pp,{children:"Nombre"})}),(0,m.jsx)(n.TK,{sm:"7",children:(0,m.jsx)(n.Pp,{className:"text-muted",children:l})})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)(n.uZ,{children:[(0,m.jsx)(n.TK,{sm:"5",children:(0,m.jsx)(n.Pp,{children:"CIF/DNI"})}),(0,m.jsx)(n.TK,{sm:"7",children:(0,m.jsx)(n.Pp,{className:"text-muted",children:p})})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)(n.uZ,{children:[(0,m.jsx)(n.TK,{sm:"5",children:(0,m.jsx)(n.Pp,{children:"Nombre de contacto"})}),(0,m.jsx)(n.TK,{sm:"7",children:(0,m.jsx)(n.Pp,{className:"text-muted",children:f})})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)(n.uZ,{children:[(0,m.jsx)(n.TK,{sm:"5",children:(0,m.jsx)(n.Pp,{children:"Correo electr\xf3nico"})}),(0,m.jsx)(n.TK,{sm:"7",children:(0,m.jsx)(n.Pp,{className:"text-muted",children:b})})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)(n.uZ,{children:[(0,m.jsx)(n.TK,{sm:"5",children:(0,m.jsx)(n.Pp,{children:"Tel\xe9fono"})}),(0,m.jsx)(n.TK,{sm:"7",children:(0,m.jsx)(n.Pp,{className:"text-muted",children:y})})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)(n.uZ,{children:[(0,m.jsx)(n.TK,{sm:"5",children:(0,m.jsx)(n.Pp,{children:"Upload Counter Trimestre"})}),(0,m.jsx)(n.TK,{sm:"7",children:(0,m.jsx)(n.Pp,{className:"text-muted",children:v+"\u20ac"})})]})]})})})})}),(0,m.jsxs)(u.Z,{justify:"space-evenly",style:{marginBottom:10},children:[(0,m.jsx)(h.Z,{span:8,align:"center",children:(0,m.jsx)(r.Z,{id:"standard-basic",fullWidth:!0,label:"Nombre",value:l,onChange:e=>P("name",e),variant:"standard"})}),(0,m.jsx)(h.Z,{span:8,align:"center",children:(0,m.jsx)(r.Z,{id:"standard-basic",fullWidth:!0,label:"CIF/DNI",value:p,onChange:e=>P("cif",e),variant:"standard"})})]}),(0,m.jsxs)(u.Z,{justify:"space-evenly",style:{marginBottom:10},children:[(0,m.jsx)(h.Z,{span:8,align:"center",children:(0,m.jsx)(r.Z,{id:"standard-basic",fullWidth:!0,label:"Nombre de contacto",value:f,onChange:e=>P("contactName",e),variant:"standard"})}),(0,m.jsx)(h.Z,{span:8,align:"center",children:(0,m.jsx)(r.Z,{id:"standard-basic",fullWidth:!0,label:"Correo electr\xf3nico",value:b,onChange:e=>P("email",e),variant:"standard"})})]}),(0,m.jsx)(u.Z,{justify:"space-evenly",style:{marginBottom:10},children:(0,m.jsx)(h.Z,{span:8,align:"center",children:(0,m.jsx)(r.Z,{id:"standard-basic",fullWidth:!0,label:"Tel\xe9fono",value:y,onChange:e=>P("phone",e),variant:"standard"})})}),(0,m.jsx)(u.Z,{style:{justifyContent:"center"},children:(0,m.jsx)(x.ZP,{type:"primary",onClick:()=>{let e={_id:t.customization.auth._id,name:l,cif:p,contactName:f,mail:b,phone:y};i.Z.post(c.Z.API_URL+"api/users/updateClient",e).then((e=>{console.log("res",e.data.data),"success"==e.data.status&&(a(e.data.data),d.Z.success({description:" Guardar \xe9xito!",placement:"bottomRight",duration:2}))}))},children:"Guardar"})})]})}))},9624:function(e,t,a){var s=a(6297);t.Z=s.Z},6297:function(e,t,a){var s=a(6123),n=a.n(s),l=a(7313),r=a(4714),i=a(6223),c=a(2358),o=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(a[s[n]]=e[s[n]])}return a};const d=["xs","sm","md","lg","xl","xxl"],u=l.forwardRef(((e,t)=>{const{getPrefixCls:a,direction:s}=l.useContext(r.E_),{gutter:u,wrap:h,supportFlexGap:x}=l.useContext(i.Z),{prefixCls:m,span:p,order:j,offset:f,push:g,pull:b,className:$,children:y,flex:Z,style:v}=e,C=o(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),N=a("col",m),[P,T]=(0,c.c)(N);let w={};d.forEach((t=>{let a={};const n=e[t];"number"===typeof n?a.span=n:"object"===typeof n&&(a=n||{}),delete C[t],w=Object.assign(Object.assign({},w),{[`${N}-${t}-${a.span}`]:void 0!==a.span,[`${N}-${t}-order-${a.order}`]:a.order||0===a.order,[`${N}-${t}-offset-${a.offset}`]:a.offset||0===a.offset,[`${N}-${t}-push-${a.push}`]:a.push||0===a.push,[`${N}-${t}-pull-${a.pull}`]:a.pull||0===a.pull,[`${N}-${t}-flex-${a.flex}`]:a.flex||"auto"===a.flex,[`${N}-rtl`]:"rtl"===s})}));const _=n()(N,{[`${N}-${p}`]:void 0!==p,[`${N}-order-${j}`]:j,[`${N}-offset-${f}`]:f,[`${N}-push-${g}`]:g,[`${N}-pull-${b}`]:b},$,w,T),O={};if(u&&u[0]>0){const e=u[0]/2;O.paddingLeft=e,O.paddingRight=e}if(u&&u[1]>0&&!x){const e=u[1]/2;O.paddingTop=e,O.paddingBottom=e}return Z&&(O.flex=function(e){return"number"===typeof e?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}(Z),!1!==h||O.minWidth||(O.minWidth=0)),P(l.createElement("div",Object.assign({},C,{style:Object.assign(Object.assign({},O),v),className:_,ref:t}),y))}));t.Z=u}}]);