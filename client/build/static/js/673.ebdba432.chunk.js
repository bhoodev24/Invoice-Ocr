"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[673],{1673:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var s=a(7313),l=a(8197),o=a(9624),n=a(9377),r=a(7648),i=a(4195),u=a(6417);var c=e=>{let{wholeData:t}=e,a=[];const[c,d]=(0,s.useState)([]),[h,p]=(0,s.useState)([]),[g,f]=(0,s.useState)();(0,s.useEffect)((()=>{if(void 0!=t){console.log("aa",t);let e=t.fee,s=new Date,l=0;for(let o=11;o>=0;o--){const n=new Date(s.getFullYear(),s.getMonth()-o),r=`${n.getFullYear()}-${(n.getMonth()+1).toString().padStart(2,"0")}`;a.push({year:""+r,value:t.quotapermonth[o]*e}),l+=t.quotapermonth[o]*e}f(l),d(a),p(a),m(4),console.log("data1",a)}}),[t]);const[v,m]=(0,s.useState)(4);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.Z,{justify:"center",style:{marginBottom:20},children:(0,u.jsxs)(r.ZP.Group,{onChange:e=>{let t=[];if(4==e.target.value){t=h;let e=0;console.log("fff",h),h.map((t=>{e+=t.value})),f(e)}else if(3==e.target.value){let a=0;console.log("graph",e.target.value);for(let e=6;e<12;e++)t.push(h[e]),a+=h[e].value;f(a)}else if(2==e.target.value){let e=0;for(let a=9;a<12;a++)t.push(h[a]),e+=h[a].value;f(e)}else 1==e.target.value&&(t.push(h[11]),f(h[11].value));console.log("ddddd",t),d(t),m(e.target.value)},value:v,children:[(0,u.jsx)(r.ZP,{value:1,children:"1 mes"}),(0,u.jsx)(r.ZP,{value:2,children:"3 mes"}),(0,u.jsx)(r.ZP,{value:3,children:"6 mes"}),(0,u.jsx)(r.ZP,{value:4,children:"1 a\xf1o "})]})}),(0,u.jsx)(n.Z,{...(e=>({data:e,xField:"year",yField:"value",label:{},point:{size:5,shape:"diamond",style:{fill:"white",stroke:"#5B8FF9",lineWidth:2}},tooltip:{showMarkers:!1},state:{active:{style:{shadowBlur:4,stroke:"#000",fill:"red"}}},interactions:[{type:"marker-active"}]}))(c)}),(0,u.jsx)("br",{}),(0,u.jsx)(l.Z,{children:(0,u.jsx)(o.Z,{offset:10,push:0,span:4,children:(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,u.jsx)("span",{style:{marginRight:"8px"},children:"Fees:"}),(0,u.jsx)(i.Z,{disabled:!0,value:g})]})})})]})};var d=e=>{let{wholeData:t}=e,a=[];const[c,d]=(0,s.useState)([]),[h,p]=(0,s.useState)([]),[g,f]=(0,s.useState)();(0,s.useEffect)((()=>{if(console.log("aa",t),void 0!=t){let e=t.consumptionfee,s=0,l=new Date;for(let o=11;o>=0;o--){const n=new Date(l.getFullYear(),l.getMonth()-o),r=`${n.getFullYear()}-${(n.getMonth()+1).toString().padStart(2,"0")}`;if(0==t.consumptionpermonth[o])a.push({year:""+r,value:t.consumptionpermonth[o]*e});else{console.log("bbbb",(t.consumptionpermonth[o]*e).toFixed(2));let l=t.consumptionpermonth[o];s+=l,a.push({year:""+r,value:l})}}f(s),d(a),p(a),m(4),console.log("data1",a)}}),[t]);const[v,m]=(0,s.useState)(4);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.Z,{justify:"center",style:{marginBottom:20},children:(0,u.jsxs)(r.ZP.Group,{onChange:e=>{let t=[];if(4==e.target.value){t=h;let e=0;h.map((t=>{e+=t.value})),console.log("annual",e),f(e)}else if(3==e.target.value){let a=0;for(let e=6;e<12;e++)t.push(h[e]),a+=h[e].value;console.log("graph",e.target.value,a),f(a)}else if(2==e.target.value){let e=0;for(let a=9;a<12;a++)t.push(h[a]),e+=h[a].value;f(e)}else 1==e.target.value&&(t.push(h[11]),f(h[11].value));console.log("ddddd",t),d(t),m(e.target.value)},value:v,children:[(0,u.jsx)(r.ZP,{value:1,children:"1 mes"}),(0,u.jsx)(r.ZP,{value:2,children:"3 mes"}),(0,u.jsx)(r.ZP,{value:3,children:"6 mes"}),(0,u.jsx)(r.ZP,{value:4,children:"1 a\xf1o "})]})}),(0,u.jsx)(n.Z,{...(e=>({data:e,xField:"year",yField:"value",label:{},point:{size:5,shape:"diamond",style:{fill:"white",stroke:"#5B8FF9",lineWidth:2}},tooltip:{showMarkers:!1},state:{active:{style:{shadowBlur:4,stroke:"#000",fill:"red"}}},interactions:[{type:"marker-active"}]}))(c)}),(0,u.jsx)("br",{}),(0,u.jsx)(l.Z,{children:(0,u.jsx)(o.Z,{offset:10,push:0,span:4,children:(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,u.jsx)("span",{style:{marginRight:"8px"},children:"Upload Number:"}),(0,u.jsx)(i.Z,{disabled:!0,value:g})]})})})]})},h=a(6135),p=a(6573),g=a(6287);var f=(0,h.$j)((e=>({storeState:e})))((e=>{let{storeState:t}=e;const[a,n]=(0,s.useState)(),[r,i]=(0,s.useState)();(0,s.useEffect)((()=>{console.log("storeSate",t.customization.auth),h()}),[]);const h=async()=>{let e={};const a=await p.Z.post(g.Z.API_URL+"api/users/getbills",{agency_id:t.customization.auth._id});console.log("response",a.data),e.consumptionpermonth=a.data,e.consumptionfee=parseFloat(t.customization.auth.consumption);const s=await p.Z.post(g.Z.API_URL+"api/users/getusers",{agency_id:t.customization.auth._id});e.quotapermonth=s.data,e.fee=t.customization.auth.fee,console.log("data",e),i("0"),n(e)};return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(l.Z,{justify:"space-evenly",style:{marginTop:20},children:[(0,u.jsxs)(o.Z,{span:12,children:[(0,u.jsx)(l.Z,{justify:"center",children:(0,u.jsx)("h1",{children:"Gr\xe1fico de Consumo"})}),(0,u.jsx)(d,{wholeData:a,select:r})]}),(0,u.jsxs)(o.Z,{span:12,children:[(0,u.jsx)(l.Z,{justify:"center",children:(0,u.jsx)("h1",{children:"Gr\xe1fico de Cuotas"})}),(0,u.jsx)(c,{wholeData:a,select:r})]})]})})}))}}]);